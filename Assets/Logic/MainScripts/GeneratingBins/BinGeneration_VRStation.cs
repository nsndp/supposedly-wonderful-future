using UnityEngine;
using System.Collections;
using System.IO;

public class BinGeneration_VRStation : MonoBehaviour {
	string path;
	
	void Start() {
		path = COMMON.dataFolder + "VRStation/";
		Narration(); Dialogue();
		Debug.Log("VRStation bins generated.");
		GetComponent<DataControlChapter3>().Init();
	}

	void Narration() {
		var NS = new NarrationStructure(); int size = 5;
		NS.Next = new int[size]; NS.TriggersEvent = new int?[size];
		NS.Finisher = new bool[size]; NS.Additive = new int[size];

		NS.Next[0] = 1; NS.Next[1] = 2; NS.Additive[1] = 1; NS.Additive[2] = 1;
		NS.Finisher[2] = true; NS.TriggersEvent[2] = (int)events3.startupVR;
		NS.Finisher[4] = true; NS.TriggersEvent[4] = (int)events3.startDialogue;

		NS.Save(path + "Narration.bin");
	}

	void Dialogue() {
		var DS = new DialogueStructure(); int size = 425;
		DS.R = new int[size][];
		DS.Locked = new bool[size]; DS.Used = new bool[size];
		DS.UnlockingID = new int[size][]; DS.LockingID = new int[size][];
		DS.Finisher = new bool[size]; DS.TriggersEvent = new int?[size];

		//METAPHORS
		DS.R[0] = new int[] {1, 2};
		DS.R[1] = new int[] {3};
		DS.R[2] = new int[] {4};
		DS.R[3] = new int[] {5};
		DS.R[4] = new int[] {5};
		DS.R[5] = new int[] {6};
		DS.R[6] = new int[] {7, 8};
		DS.R[7] = new int[] {9};
		DS.R[8] = new int[] {9};
		DS.R[9] = new int[] {10};
		DS.R[10] = new int[] {11};
		DS.R[11] = new int[] {12, 14, 15, 16, 17};
		DS.R[12] = new int[] {18};
		DS.R[13] = new int[] {19};
		DS.R[14] = new int[] {20};
		DS.R[15] = new int[] {20};
		DS.R[16] = new int[] {20};
		DS.R[17] = new int[] {20};
		DS.R[18] = new int[] {13, 14, 15, 16, 17};
		DS.R[19] = new int[] {14, 15, 16, 17};
		DS.R[20] = new int[] {21, 22};
		DS.R[21] = new int[] {30};
		DS.R[22] = new int[] {30};
		DS.R[30] = new int[] {31};
		DS.R[31] = new int[] {32};
		DS.R[32] = new int[] {33};
		DS.R[33] = new int[] {34};
		DS.R[34] = new int[] {35, 36};
		DS.R[35] = new int[] {37};
		DS.R[36] = new int[] {38};
		DS.R[37] = new int[] {39, 40, 41, 42};
		DS.R[38] = new int[] {39, 40, 41, 42};
		DS.R[39] = new int[] {43};
		DS.R[40] = new int[] {44};
		DS.R[41] = new int[] {45};
		DS.R[42] = new int[] {48};
		DS.R[43] = new int[] {40, 41, 42};
		DS.R[44] = new int[] {39, 41, 42};
		DS.R[45] = new int[] {46};
		DS.R[46] = new int[] {47};
		DS.R[47] = new int[] {39, 40, 42};
		DS.R[48] = new int[] {49, 52};
		DS.R[49] = new int[] {55};
		DS.R[50] = new int[] {56};
		DS.R[51] = new int[] {59};
		DS.R[52] = new int[] {62};
		DS.R[53] = new int[] {62};
		DS.R[54] = new int[] {62};
		DS.R[55] = new int[] {50, 53};
		DS.R[56] = new int[] {57};
		DS.R[57] = new int[] {58};
		DS.R[58] = new int[] {51, 53};
		DS.R[59] = new int[] {60};
		DS.R[60] = new int[] {61};
		DS.R[61] = new int[] {54};
		DS.R[62] = new int[] {63, 64, 65};
		DS.R[63] = new int[] {66};
		DS.R[64] = new int[] {67};
		DS.R[65] = new int[] {67};
		DS.R[66] = new int[] {68, 69, 70};
		DS.R[67] = new int[] {68, 69, 70};
		DS.R[68] = new int[] {71};
		DS.R[69] = new int[] {71};
		DS.R[70] = new int[] {71};
		DS.R[71] = new int[] {72, 73, 74};
		DS.R[72] = new int[] {75};
		DS.R[73] = new int[] {76};
		DS.R[74] = new int[] {77};
		DS.R[75] = new int[] {73, 74};
		DS.R[76] = new int[] {72, 74};
		DS.R[77] = new int[] {78, 79, 80};
		DS.R[78] = new int[] {81};
		DS.R[79] = new int[] {81};
		DS.R[80] = new int[] {81};
		DS.R[81] = new int[] {82, 85, 86};
		DS.R[82] = new int[] {87};
		DS.R[83] = new int[] {88};
		DS.R[84] = new int[] {89};
		DS.R[85] = new int[] {92};
		DS.R[86] = new int[] {93};
		DS.R[87] = new int[] {83, 84, 85, 86};
		DS.R[88] = new int[] {84, 85, 86};
		DS.R[89] = new int[] {90};
		DS.R[90] = new int[] {91};
		DS.R[91] = new int[] {83, 85, 86};
		DS.R[92] = new int[] {82, 83, 84, 86};
		DS.R[93] = new int[] {94};
		DS.R[94] = new int[] {95};
		DS.R[95] = new int[] {96, 97, 98};
		DS.R[96] = new int[] {99};
		DS.R[97] = new int[] {100};
		DS.R[98] = new int[] {102};
		DS.R[99] = new int[] {101};
		DS.R[100] = new int[] {101};
		DS.R[101] = new int[] {102};
		DS.R[102] = new int[] {103, 104};
		DS.R[103] = new int[] {105};
		DS.R[104] = new int[] {106};
		DS.R[105] = new int[] {125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[106] = new int[] {107, 108};
		DS.R[107] = new int[] {109};
		DS.R[108] = new int[] {110};
		DS.R[109] = new int[] {125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[110] = new int[] {111, 112};
		DS.R[111] = new int[] {113};
		DS.R[112] = new int[] {109};
		DS.R[113] = new int[] {114};
		DS.R[114] = null;

		//QUESTIONS
		DS.R[125] = new int[] {140};
		DS.R[126] = new int[] {160};
		DS.R[127] = new int[] {180};
		DS.R[128] = new int[] {220};
		DS.R[129] = new int[] {260};
		DS.R[130] = new int[] {285};
		DS.R[131] = new int[] {325};
		DS.R[132] = new int[] {350};
		DS.R[133] = new int[] {365};
		DS.R[134] = new int[] {370};
		DS.R[135] = new int[] {400};
		//1
		DS.R[140] = new int[] {141, 142, 143, 144, 145, 146};
		DS.R[141] = new int[] {147};
		DS.R[142] = new int[] {148};
		DS.R[143] = new int[] {151};
		DS.R[144] = new int[] {152};
		DS.R[145] = new int[] {153};
		DS.R[146] = new int[] {156};
		DS.R[147] = new int[] {142, 143, 144, 145, 146};
		DS.R[148] = new int[] {149};
		DS.R[149] = new int[] {150};
		DS.R[150] = new int[] {141, 143, 144, 145, 146};
		DS.R[151] = new int[] {141, 142, 144, 145, 146};
		DS.R[152] = new int[] {141, 142, 143, 145, 146};
		DS.R[153] = new int[] {154};
		DS.R[154] = new int[] {155};
		DS.R[155] = new int[] {141, 142, 143, 144, 146};
		DS.R[156] = new int[] {126, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[157] = new int[] {158};
		DS.R[158] = new int[] {141, 142, 143, 144, 146};
		//2
		DS.R[160] = new int[] {161};
		DS.R[161] = new int[] {162};
		DS.R[162] = new int[] {163, 164, 165};
		DS.R[163] = new int[] {166};
		DS.R[164] = new int[] {167};
		DS.R[165] = new int[] {168};
		DS.R[166] = new int[] {169, 170};
		DS.R[167] = new int[] {169, 170};
		DS.R[168] = new int[] {169, 170};
		DS.R[169] = new int[] {171};
		DS.R[170] = new int[] {172};
		DS.R[171] = new int[] {125, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[172] = new int[] {125, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		//3
		DS.R[180] = new int[] {181, 182, 183};
		DS.R[181] = new int[] {184};
		DS.R[182] = new int[] {195};
		DS.R[183] = new int[] {196};
		DS.R[184] = new int[] {185, 186};
		DS.R[185] = new int[] {187};
		DS.R[186] = new int[] {188};
		DS.R[187] = new int[] {189, 190, 191};
		DS.R[188] = new int[] {197};
		DS.R[189] = new int[] {192};
		DS.R[190] = new int[] {193};
		DS.R[191] = new int[] {194};
		DS.R[192] = new int[] {197};
		DS.R[193] = new int[] {197};
		DS.R[194] = new int[] {197};
		DS.R[195] = new int[] {197};
		DS.R[196] = new int[] {197};
		DS.R[197] = new int[] {198};
		DS.R[198] = new int[] {199, 200};
		DS.R[199] = new int[] {201};
		DS.R[200] = new int[] {202};
		DS.R[201] = new int[] {203};
		DS.R[202] = new int[] {203};
		DS.R[203] = new int[] {204};
		DS.R[204] = new int[] {205, 207};
		DS.R[205] = new int[] {209};
		DS.R[206] = new int[] {210};
		DS.R[207] = new int[] {211};
		DS.R[208] = new int[] {212};
		DS.R[209] = new int[] {206, 207};
		DS.R[210] = new int[] {207, 208};
		DS.R[211] = new int[] {125, 126, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[212] = new int[] {125, 126, 128, 129, 130, 131, 132, 133, 134, 135};
		//4
		DS.R[218] = new int[] {219};
		DS.R[219] = new int[] {228, 229, 230, 232, 233};
		DS.R[220] = new int[] {222};
		DS.R[221] = new int[] {222};
		DS.R[222] = new int[] {223};
		DS.R[223] = new int[] {224};
		DS.R[224] = new int[] {225};
		DS.R[225] = new int[] {226};
		DS.R[226] = new int[] {227};
		DS.R[227] = new int[] {228, 229, 230, 232, 233};
		DS.R[228] = new int[] {234};
		DS.R[229] = new int[] {235};
		DS.R[230] = new int[] {236};
		DS.R[231] = new int[] {237};
		DS.R[232] = new int[] {246};
		DS.R[233] = new int[] {254};
		DS.R[234] = new int[] {229, 230, 231, 232, 233};
		DS.R[235] = new int[] {228, 230, 231, 232, 233};
		DS.R[236] = new int[] {228, 229, 231, 232, 233};
		DS.R[237] = new int[] {238};
		DS.R[238] = new int[] {239};
		DS.R[239] = new int[] {240, 241};
		DS.R[240] = new int[] {242};
		DS.R[241] = new int[] {242};
		DS.R[242] = new int[] {243, 244};
		DS.R[243] = new int[] {245};
		DS.R[244] = new int[] {245};
		DS.R[245] = new int[] {228, 229, 230, 232, 233};
		DS.R[246] = new int[] {247};
		DS.R[247] = new int[] {248};
		DS.R[248] = new int[] {249, 250, 251};
		DS.R[249] = new int[] {252};
		DS.R[250] = new int[] {252};
		DS.R[251] = new int[] {253};
		DS.R[252] = new int[] {228, 229, 230, 231, 233};
		DS.R[253] = new int[] {228, 229, 230, 231, 233};
		DS.R[254] = new int[] {125, 126, 127, 129, 130, 131, 132, 133, 134, 135};
		//5
		DS.R[260] = new int[] {261, 262, 264, 265, 266, 267};
		DS.R[261] = new int[] {268};
		DS.R[262] = new int[] {269};
		DS.R[263] = new int[] {270};
		DS.R[264] = new int[] {271};
		DS.R[265] = new int[] {276};
		DS.R[266] = new int[] {277};
		DS.R[267] = new int[] {278};
		DS.R[268] = new int[] {262, 263, 264, 265, 266, 267};
		DS.R[269] = new int[] {261, 263, 264, 265, 266, 267};
		DS.R[270] = new int[] {261, 262, 264, 265, 266, 267};
		DS.R[271] = new int[] {272, 273, 274};
		DS.R[272] = new int[] {275};
		DS.R[273] = new int[] {275};
		DS.R[274] = new int[] {275};
		DS.R[275] = new int[] {261, 262, 263, 265, 266, 267};
		DS.R[276] = new int[] {261, 262, 263, 264, 266, 267};
		DS.R[277] = new int[] {261, 262, 263, 264, 265, 267};
		DS.R[278] = new int[] {125, 126, 127, 128, 130, 131, 132, 133, 134, 135};
		//6
		DS.R[285] = new int[] {286, 287, 288, 289};
		DS.R[286] = new int[] {290};
		DS.R[287] = new int[] {297};
		DS.R[288] = new int[] {306};
		DS.R[289] = new int[] {319};
		DS.R[290] = new int[] {291, 292, 293};
		DS.R[291] = new int[] {294};
		DS.R[292] = new int[] {295};
		DS.R[293] = new int[] {296};
		DS.R[294] = new int[] {287, 288, 289};
		DS.R[295] = new int[] {287, 288, 289};
		DS.R[296] = new int[] {287, 288, 289};
		DS.R[297] = new int[] {298, 299};
		DS.R[298] = new int[] {301};
		DS.R[299] = new int[] {300};
		DS.R[300] = new int[] {286, 288, 289};
		DS.R[301] = new int[] {302, 303};
		DS.R[302] = new int[] {304};
		DS.R[303] = new int[] {305};
		DS.R[304] = new int[] {286, 288, 289};
		DS.R[305] = new int[] {286, 288, 289};
		DS.R[306] = new int[] {307, 308, 309};
		DS.R[307] = new int[] {310};
		DS.R[308] = new int[] {311};
		DS.R[309] = new int[] {312};
		DS.R[310] = new int[] {313, 314, 315};
		DS.R[311] = new int[] {313, 314, 315};
		DS.R[312] = new int[] {313, 314, 315};
		DS.R[313] = new int[] {316};
		DS.R[314] = new int[] {317};
		DS.R[315] = new int[] {318};
		DS.R[316] = new int[] {286, 287, 289};
		DS.R[317] = new int[] {286, 287, 289};
		DS.R[318] = new int[] {286, 287, 289};
		DS.R[319] = new int[] {125, 126, 127, 128, 129, 131, 132, 133, 134, 135};
		//7
		DS.R[325] = new int[] {326, 327, 328};
		DS.R[326] = new int[] {329};
		DS.R[327] = new int[] {332};
		DS.R[328] = new int[] {332};
		DS.R[329] = new int[] {330, 331};
		DS.R[330] = new int[] {332};
		DS.R[331] = new int[] {332};
		DS.R[332] = new int[] {333, 334};
		DS.R[333] = new int[] {335};
		DS.R[334] = new int[] {336};
		DS.R[335] = new int[] {337, 338, 339, 340, 341};
		DS.R[336] = new int[] {337, 338, 339, 340, 341};
		DS.R[337] = new int[] {342};
		DS.R[338] = new int[] {343};
		DS.R[339] = new int[] {344};
		DS.R[340] = new int[] {345};
		DS.R[341] = new int[] {346};
		DS.R[342] = new int[] {338, 339, 340, 341};
		DS.R[343] = new int[] {337, 339, 340, 341};
		DS.R[344] = new int[] {337, 338, 340, 341};
		DS.R[345] = new int[] {337, 338, 339, 341};
		DS.R[346] = new int[] {125, 126, 127, 128, 129, 130, 132, 133, 134, 135};
		//8
		DS.R[350] = new int[] {351, 352, 353};
		DS.R[351] = new int[] {354};
		DS.R[352] = new int[] {355};
		DS.R[353] = new int[] {360};
		DS.R[354] = new int[] {352, 353};
		DS.R[355] = new int[] {356, 357};
		DS.R[356] = new int[] {358};
		DS.R[357] = new int[] {359};
		DS.R[358] = new int[] {351, 353};
		DS.R[359] = new int[] {351, 353};
		DS.R[360] = new int[] {125, 126, 127, 128, 129, 130, 131, 133, 134, 135};
		//9
		DS.R[365] = new int[] {366};
		DS.R[366] = new int[] {367};
		DS.R[367] = new int[] {125, 126, 127, 128, 129, 130, 131, 132, 134, 135};
		//10
		DS.R[370] = new int[] {371};
		DS.R[371] = new int[] {372};
		DS.R[372] = new int[] {373};
		DS.R[373] = new int[] {374};
		DS.R[374] = new int[] {375};
		DS.R[375] = new int[] {376};
		DS.R[376] = new int[] {377, 378};
		DS.R[377] = new int[] {379};
		DS.R[378] = new int[] {380};
		DS.R[379] = new int[] {381};
		DS.R[380] = new int[] {381};
		DS.R[381] = new int[] {382};
		DS.R[382] = new int[] {383, 384, 385};
		DS.R[383] = new int[] {386};
		DS.R[384] = new int[] {387};
		DS.R[385] = new int[] {388};
		DS.R[386] = new int[] {384, 385};
		DS.R[387] = new int[] {383, 385};
		DS.R[388] = new int[] {125, 126, 127, 128, 129, 130, 131, 132, 133, 135};

		//FINISHER
		DS.R[400] = new int[] {402, 403, 404, 405};
		DS.R[401] = new int[] {402, 403, 404, 405};
		DS.R[402] = new int[] {406};
		DS.R[403] = new int[] {407};
		DS.R[404] = new int[] {408};
		DS.R[405] = new int[] {409};
		DS.R[406] = new int[] {125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135};
		DS.R[407] = new int[] {410, 411, 412};
		DS.R[408] = new int[] {410, 411, 412};
		DS.R[409] = new int[] {410, 411, 412};
		DS.R[410] = new int[] {413};
		DS.R[411] = null;
		DS.R[412] = null;
		DS.R[413] = new int[] {414};
		DS.R[414] = new int[] {415};
		DS.R[415] = new int[] {416, 417};
		DS.R[416] = new int[] {418};
		DS.R[417] = new int[] {419};
		DS.R[418] = new int[] {420, 421, 422};
		DS.R[419] = new int[] {420, 421, 422};
		DS.R[420] = new int[] {423};
		DS.R[421] = new int[] {423};
		DS.R[422] = new int[] {423};
		DS.R[423] = new int[] {424};
		DS.R[424] = null;

		DS.Locked[17] = true; DS.UnlockingID[2] = new int[] {17}; DS.LockingID[2] = new int[] {16};
		DS.Locked[70] = true; DS.UnlockingID[60] = new int[] {70};
		DS.Locked[83] = true; DS.UnlockingID[82] = new int[] {83};
		DS.Locked[84] = true; //unlocked after both 72 and 82
		DS.Locked[231] = true; DS.UnlockingID[230] = new int[] {231};
		DS.Locked[263] = true; //unlocked after 262 only if learned about picky creator in intro
		DS.Locked[404] = true; //unlocked if asked all of the questions
		DS.Locked[405] = true; //unlocked if asked half of the questions
		DS.Finisher[114] = true; DS.Finisher[411] = true;
		DS.Finisher[412] = true; DS.Finisher[424] = true;
		DS.TriggersEvent[72] = (int)events3.elevatorIsImportant;
		DS.TriggersEvent[82] = (int)events3.elevatorIsImportant;
		DS.TriggersEvent[114] = (int)events3.finish;
		DS.TriggersEvent[125] = (int)events3.countQuestions;
		DS.TriggersEvent[126] = (int)events3.askedQ2;
		DS.TriggersEvent[127] = (int)events3.askedQ3;
		DS.TriggersEvent[128] = (int)events3.askedQ4; 
		for (int i = 129; i <= 130; i++) DS.TriggersEvent[i] = (int)events3.countQuestions;
		DS.TriggersEvent[131] = (int)events3.askedQ7;
		for (int i = 132; i <= 134; i++) DS.TriggersEvent[i] = (int)events3.countQuestions;
		DS.TriggersEvent[145] = (int)events3.askedQ15;
		DS.TriggersEvent[262] = (int)events3.askedQ52;
		DS.TriggersEvent[402] = (int)events3.returnToQ;
		DS.TriggersEvent[411] = (int)events3.finish;
		DS.TriggersEvent[412] = (int)events3.finish;
		DS.TriggersEvent[424] = (int)events3.finish;

		DS.Save(path + "Dialogue.bin");
	}
}
